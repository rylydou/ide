@font-face {
	font-family: 'Fira Sans';
	src: url('/fonts/fira-sans.woff2') format('woff2');
	font-weight: 100 900;
	font-display: swap;
	font-style: normal;
}


@font-face {
	font-family: 'JetBrains Mono';
	src: url('/fonts/jetbrains-mono.woff2') format('woff2');
	font-weight: 100 800;
	font-display: swap;
	font-style: normal;
}


html {
	--clr-red: #e6482e;
	--clr-orange: #f47e1b;
	--clr-yellow: #f4b41b;
	--clr-green: #b6d53c;
	--clr-blue: #28ccdf;
	--clr-purple: #cd6093;

	--clr-base: #242022;
	--clr-bg: #302c2e;
	--clr-bg-hover: #3d393b;
	--clr-fg: #cfc6b8;
	--clr-fg-hover: #a0938e;

	--clr-input-bg: #181516;
	--clr-input-fg: #cfc6b8;

	--clr-accent: #b6d53c;
	--clr-accent-hover: #c3e24d;
	--clr-on-accent: #302c2e;

	--clr-warn-bg: #352B24;
	--clr-warn-fg: #f4b41b;

	--clr-muted-bg: #5a5353;
	--clr-muted-fg: #7d7071;

	--shadow-card-hover: 0 0 1.5rem rgb(0 0 0 / .125);

	--font-body: 'Fira Sans', ui-sans-serif, system-ui, sans-serif;
	--font-mono: 'JetBrains Mono', ui-monospace, monospace;

	--radius-sm: 3px;
	--radius: 6px;
	--radius-lg: 12px;
}

@import './light';

html {
	user-select: none;

	font-family: var(--font-body);
	font-size: 1rem;
	line-height: 1.5rem;

	background-color: var(--clr-base);
	color: var(--clr-fg);
}


body {
	min-height: 100vh;
	// // Using this makes the Bitwarden banner screw up the website
	// display: grid;
	// grid-auto-flow: column;
	display: flex;
	flex-direction: column;
	overflow-x: hidden;
}


.layout-center {
	display: grid;
	place-items: center;
	flex: 1;
}


button {
	cursor: pointer;
}


.link {
	text-decoration: underline 1px;
	text-underline-offset: 2px;
	border-radius: var(--radius-sm);
	color: var(--clr-accent);

	&:hover,
	&:focus-visible {
		outline: solid 2px var(--clr-accent);
		text-decoration: none;
		background-color: var(--clr-accent);
		color: #000;
	}
}


.btn,
.toggle {
	--btn-bg: var(--clr-bg);
	--btn-bg-hover: var(--clr-bg-hover);
	--btn-fg: var(--clr-fg);
	--btn-ring: currentColor;

	min-width: 2.5rem;
	min-height: 2.5rem;
	display: flex;
	align-items: center;
	justify-content: center;
	padding: 8px;
	gap: 4px;
	font-weight: bold;
	border-radius: var(--radius);
	background-color: var(--btn-bg);
	color: var(--btn-fg);

	&.btn-text {
		padding-inline: 1rem;
	}

	&:not(:disabled) {

		&:hover,
		&:focus-visible {
			background-color: var(--btn-bg-hover);
		}

		&:focus-visible {
			outline: solid 2px var(--clr-accent);
		}
	}

	&:disabled {
		cursor: default;
		opacity: .33;
	}

	&.btn-flat {
		--btn-bg: transparent;
		--btn-bg-hover: var(--clr-bg);
		--btn-fg: currentColor;
		outline-color: var(--clr-fg);
		outline-offset: 2px;
	}

	&.btn-solid {
		--btn-bg: var(--clr-fg);
		--btn-bg-hover: var(--clr-fg-hover);
		--btn-fg: var(--clr-bg);
		outline-color: var(--clr-fg);
		outline-offset: 2px;
	}

	&.btn-accent {
		--btn-bg: var(--clr-accent);
		--btn-bg-hover: var(--clr-accent-hover);
		--btn-fg: var(--clr-on-accent);
		outline-color: var(--clr-accent-hover);
		outline-offset: 2px;
	}
}


.form {
	width: 24rem;
	display: flex;
	flex-direction: column;
	gap: 1rem;

	label {
		display: flex;
		flex-direction: column;

		>span {
			padding-bottom: 4px;
			font-weight: bold;
		}
	}

	.message {
		min-height: 4rem;
		user-select: text;
		display: flex;
		align-items: center;
		justify-content: center;
		padding: 12px;
		font-weight: bold;
		border: solid 2px var(--clr-warn-fg);
		border-radius: var(--radius-lg);
		background-color: var(--clr-warn-bg);
		color: var(--clr-warn-fg);

		&:empty {
			opacity: 0;
		}
	}
}


.form-tabbed {
	min-height: 30rem;
}


// Style explicitly marked .input and auto style inputs of .form
.input,
.form input:where([type=text], [type=password]) {
	min-height: 2.5rem;
	padding-inline: 8px;
	border-radius: 6px;
	background-color: var(--clr-bg);
	border: solid 2px var(--clr-bg);
	background-color: var(--clr-input-bg);
	color: var(--clr-input-fg);

	&::placeholder {
		color: var(--clr-muted-fg);
		opacity: 1;
	}

	&:focus {
		outline: solid 2px var(--clr-accent);
		// background-color: var(--clr-base);
	}

	&[type=password],
	&.password {
		font-family: var(--font-mono);

		&::placeholder {
			font-family: var(--font-body);
		}
	}

	&:disabled {
		opacity: .33;
	}
}

.input-flat {
	border: none;
	border-radius: var(--radius);
	background-color: transparent;

	&:hover,
	&:focus {
		outline: solid 2px var(--clr-bg);
		background-color: var(--clr-input-bg);
		color: var(--clr-input-fg);
	}

	&:focus {
		outline: solid 2px var(--clr-accent);
	}
}


.search-input {
	min-height: 2.5rem;
	display: flex;
	border-radius: var(--radius);
	border: solid 2px var(--clr-bg);
	background-color: var(--clr-input-bg);
	color: var(--clr-input-fg);

	>input {
		flex: 1;
		outline: none;

		&:first-child {
			pointer-events: none;
		}

		&:last-child {
			padding-right: 1rem;
		}

		&::placeholder {
			color: var(--clr-muted-fg);
			opacity: 1;
		}
	}

	>:first-child {
		width: 2.5rem;
		height: 2.5rem;
		display: flex;
		justify-content: center;
		align-items: center;
	}

	&:focus-within {
		outline: solid 2px var(--clr-accent);
		// background-color: var(--clr-base);
	}
}


.tabs {
	margin-bottom: 1rem;
	display: flex;
	justify-content: stretch;
	padding: 6px;
	gap: 6px;
	border-radius: var(--radius-lg);
	background-color: var(--clr-bg);

	>.tab {
		flex: 1;
		display: flex;
		padding: .5rem 1rem;
		border-radius: var(--radius);
		justify-content: center;
		color: var(--clr-muted-fg);
		font-weight: bold;

		&:hover,
		&:focus-visible {
			color: var(--clr-fg);
		}

		&:focus-visible {
			outline: solid 2px currentColor;
		}

		&[aria-current]:not([aria-current=false]) {
			background-color: var(--clr-base);
			color: var(--clr-fg);
		}
	}
}


.input-group {
	display: flex;
	gap: 8px;

	input {
		flex-grow: 1;
	}
}


[data-tooltip] {
	position: relative;

	&::before,
	&::after {
		opacity: 0;
		font-weight: normal;
		font-family: var(--font-body);
		background-color: var(--clr-input-bg);
		color: var(--clr-input-fg);
		transition: opacity 150ms;
	}

	&::before {
		content: '';
		pointer-events: none;
		position: absolute;
		top: -1rem;
		width: 12px;
		height: 12px;
		// border-radius: var(--radius);
		rotate: 45deg;
	}

	&::after {
		content: attr(data-tooltip);
		pointer-events: none;
		position: absolute;
		top: -2.5rem;
		width: max-content;
		padding: 4px 8px;
		border-radius: var(--radius);
	}

	&:hover {

		&::before,
		&::after {
			opacity: 1;
			transition: opacity 150ms 200ms;
		}
	}
}


.dash-layout {
	display: grid;
	grid-template-columns: [max-start] 1fr [content-start] minmax(0, 75rem) [content-end] 1fr [max-end];
	grid-template-rows: 1fr;
	grid-auto-flow: column;
	gap: 1.5rem;
	padding-bottom: 1.5rem;

	>header {
		grid-column: content;
		min-height: 6rem;
		display: flex;
		align-items: end;

		h1 {
			grid-column: content;
			font-weight: bold;
			font-size: 2rem;
			line-height: 2rem;
		}
	}

	section {
		grid-column: content;

		>header {
			min-height: 2.5rem;
			display: flex;
			gap: 12px;
			padding-bottom: 1.5rem;

			>:first-child {
				flex: 1;
			}

			>h2 {
				flex: 1;
				font-weight: bold;
			}

			.buttons {
				display: flex;
			}
		}
	}
}


.list-grid {
	display: grid;
	grid-template-columns: repeat(auto-fit, minmax(20rem, 1fr));
	gap: 1rem;
}

.card {
	position: relative;
	padding: 1.5rem;
	display: grid;
	place-items: center;
	gap: 8px;
	border-radius: var(--radius-lg);
	border: solid 2px var(--clr-bg);
	background-color: var(--clr-bg);

	.card-link {
		position: absolute;
		inset: 0;
		opacity: 0;
		text-wrap: nowrap;
		overflow: hidden;
	}

	>h3 {
		font-weight: bold;
		font-size: 1.25rem;
		line-height: 1.25rem;
	}

	&:hover,
	&:has(.card-link:focus-visible) {
		background-color: var(--clr-bg-hover);
		box-shadow: var(--shadow-card-hover);
	}

	&:has(.card-link:focus-visible) {
		outline: solid 2px var(--clr-accent);
	}
}

.card-new {
	border: dashed 2px var(--clr-bg-hover);
	background-color: transparent;
	padding: 1.5rem 0;

	span {
		font-weight: bold;
		display: flex;
		gap: 8px;
		align-items: center;
	}

	&:hover,
	&:has(.card-link:focus-visible) {
		background-color: var(--clr-bg-hover);
	}
}

.card-group {
	display: flex;
	gap: .5rem;

	>* {
		flex: 1;
	}
}
